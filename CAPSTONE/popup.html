<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Phishing Defender</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <!-- Add header with logo from popup1 -->
    <div class="header-with-logo">
      <img src="/assets/icon128.png" alt="University Logo" class="university-logo" />
      <h1 class="header-title">URL Checker for Phishing Prevention</h1>
    </div>
    
  <div class="theme-switch-wrap">
    <input type="checkbox" id="themeSwitch" aria-label="Toggle dark mode" />
    <label for="themeSwitch" class="theme-switch">
    <!-- icons are inline so no external assets needed -->
      <svg class="icon sun" viewBox="0 0 24 24" aria-hidden="true">
        <circle cx="12" cy="12" r="4"></circle>
        <g>
          <line x1="12" y1="1"  x2="12" y2="4"></line>
          <line x1="12" y1="20" x2="12" y2="23"></line>
          <line x1="1"  y1="12" x2="4"  y2="12"></line>
          <line x1="20" y1="12" x2="23" y2="12"></line>
          <line x1="4.2" y1="4.2" x2="6.3" y2="6.3"></line>
          <line x1="17.7" y1="17.7" x2="19.8" y2="19.8"></line>
          <line x1="4.2" y1="19.8" x2="6.3" y2="17.7"></line>
          <line x1="17.7" y1="6.3" x2="19.8" y2="4.2"></line>
        </g>
      </svg>
      <svg class="icon moon" viewBox="0 0 24 24" aria-hidden="true">
      <path d="M21 12.79A9 9 0 1111.21 3
               a7 7 0 109.79 9.79z"></path>
      <circle cx="17.5" cy="6.5" r="1.5"></circle>
    </svg>
    <span class="knob"></span>
  </label>
</div>

    <div class="top-actions">
      <button id="checkerBtn" class="btn">Checker</button>
      <button id="statsBtn" class="btn">Statistics</button>
      <!-- Add Recommendation button from popup1 -->
      <button id="recommendationBtn" class="btn">Recommendation</button>
    </div>

    <!-- Checker Page -->
    <div id="checkerPage" class="page active">
      <div class="scan-label">Scanned URL:</div>
      <div id="scannedUrl">...</div>

      <div class="status-wrapper">
        <div id="statusCircle">Loading...</div>
      </div>

      <!-- REMOVED: View Host Location Button -->

      <div class="info-panel">
        <div class="label">Classification</div>
        <div id="classification" class="value">â€”</div>
      </div>

      <!-- Keep existing tips box -->
      <div class="tips-box">
        Tip: Avoid clicking on unknown links or downloading suspicious files.
      </div>

    
    </div>

    <!-- Stats Page - Fixed -->
    <div id="statsPage" class="page">
      <div class="section-box">
        <strong>Phishing Statistics</strong>
        <p style="margin: 10px 0 0 0; font-size: 13px;">Total Threats Detected: <strong id="totalThreats">0</strong></p>
      </div>
      <div class="section-box">
        <strong>Phishing Blocked (This Week)</strong>
        <!-- Fixed chart container with proper dimensions -->
        <div style="height: 150px; margin-top: 10px; position: relative;">
          <canvas id="statsChart" width="300" height="150"></canvas>
        </div>
      </div>
      
      <!-- Keep existing tips box -->
      <div class="tips-box">Tip: Avoid clicking on unknown links.</div>
    </div>

    <!-- Recommendation Page - FIXED CONTENT -->
    <div id="recommendationPage" class="page">
      <div class="info-panel">
        <div class="label">Tips to prevent from phishing</div>
      </div>
      <br>
      <div class="tips-content">
        <ul class="tips-list">
          <li>Think Before You Click</li>
          <li>Enable Firewalls</li>
          <li>Never Give Out Personal Information</li>
          <li>Use Antivirus Software</li>
          <li>Install Anti-Phishing Tools</li>
        </ul>
      </div>

      <div class="tips-box" id="randomLinkBtn">Click here for Phishing Awareness Site</div>
    </div>

    <iframe id="tfSandbox" src="sandbox.html" sandbox="allow-scripts allow-same-origin" style="display:none"></iframe>
  </div>
  
  <script src="obfuscation.js"></script>
  <script src="utils/db.js"></script>
  <script src="utils/safeBrowsing.js"></script>
  <script src="utils/chart.min.js"></script>
  <script src="popup.js"></script>
</body>
</html>